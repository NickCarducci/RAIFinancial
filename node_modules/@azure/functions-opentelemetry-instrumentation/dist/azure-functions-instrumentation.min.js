(()=>{"use strict";var e={921:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.1.0"},98:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AzureFunctionsInstrumentation=void 0;const n=r(870),o=r(914),i=r(620),a=r(921);class u extends i.InstrumentationBase{constructor(e={}){super("@azure/functions-opentelemetry-instrumentation",a.version,e)}init(){return new i.InstrumentationNodeModuleDefinition("@azure/functions",["^4.5.0"],(e=>this._patch(e)),(e=>this._unPatch(e)))}_patch(e){const t=[];return e.app.setup({capabilities:{WorkerOpenTelemetryEnabled:!0}}),t.push(e.app.hook.log((e=>{this.logger.emit({body:e.message,severityNumber:s(e.level),severityText:e.level})}))),t.push(e.app.hook.preInvocation((e=>{const t=e.invocationContext.traceContext;t&&(e.functionHandler=n.context.bind(n.propagation.extract(n.context.active(),{traceparent:t.traceParent,tracestate:t.traceState}),e.functionHandler))}))),this._azFuncDisposable=e.Disposable.from(...t),e}_unPatch(e){var t;null===(t=this._azFuncDisposable)||void 0===t||t.dispose(),e.app.setup({capabilities:{WorkerOpenTelemetryEnabled:!1}})}}function s(e){switch(e){case"information":return o.SeverityNumber.INFO;case"debug":return o.SeverityNumber.DEBUG;case"error":return o.SeverityNumber.ERROR;case"trace":return o.SeverityNumber.TRACE;case"warning":return o.SeverityNumber.WARN;case"critical":return o.SeverityNumber.FATAL;default:return o.SeverityNumber.UNSPECIFIED}}t.AzureFunctionsInstrumentation=u},870:e=>{e.exports=require("@opentelemetry/api")},914:e=>{e.exports=require("@opentelemetry/api-logs")},620:e=>{e.exports=require("@opentelemetry/instrumentation")}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}var n={};(()=>{var e=n;Object.defineProperty(e,"__esModule",{value:!0}),e.AzureFunctionsInstrumentation=void 0;var t=r(98);Object.defineProperty(e,"AzureFunctionsInstrumentation",{enumerable:!0,get:function(){return t.AzureFunctionsInstrumentation}})})(),module.exports=n})();
//# sourceMappingURL=azure-functions-instrumentation.min.js.map